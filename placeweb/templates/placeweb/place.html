{% load static %}
<html>

<head>
    <link rel="stylesheet" type="text/css" href="{% static 'placeweb/place.css' %}" />
</head>

<body>
    <script src="{% static 'placeweb/helper_functions.js' %}"></script>
    <div class="navbar">
        <a href="index.html" , class="active">WebApp</a>
        <a href="https://anaconda.org/freemapa/place">Install</a>
        <a href="documentation/index.html">Documentation</a>
        <a href="https://www.github.com/palab/place">Source</a>
        <a href="https://pal.blogs.auckland.ac.nz">PAL</a>
        <div class="dropdown">
            <button class="dropbtn">Plugins
                <i class="caret-down"></i>
            </button>
            <div class="dropdown-content">
                {% for plugin in plugins %}
                <button onclick="userAddModule(
                '{{ plugin.type }}',
                Elm.{{ plugin.elmModule }},
                '{{ plugin.elmModule }}')">{{ plugin.description }}</button>
                {% endfor %}
            </div>
        </div>
    </div>
    <div id='placemain'>
        <div id='place'></div>
        <div id='plugins'>
            <div id='pluginbuttons'></div>
            <div id='pluginarea'></div>
        </div>
    </div>
    <footer>
        <p>PLACE {{ version }} | Author: Paul Freeman | 2018
            <p>Originally created by: Jami L Johnson, Henrik tom W&ouml;rden, and Kasper van Wijk</p>
    </footer>

    <script src="{% static 'placeweb/Place.js' %}"></script>
    {% for plugin in plugins %}
        {% with 'placeweb/plugins/'|add:plugin.elmModule|add:'.js' as module %}
                <script src="{% static module %}"></script>
        {% endwith %}
    {% endfor %}

    <script>
        var place;
        var modulelist = [];
        var node = document.getElementById('place');
        var place = Elm.Place.embed(node, {
            version: "{{ version }}"
        });
        {% for plugin in plugins %}
        if (localStorage.getItem("{{ plugin.elmModule }}") == "1") {
            addModule("{{ plugin.type }}", Elm.{{ plugin.elmModule }}, "{{ plugin.elmModule }}");
        }
        {% endfor %}
    </script>
</body>

</html>